{
  "name": "doxysphinx",
  "build": {
    "dockerfile": "Dockerfile",
    "context": "../",
    "args": {
      "VARIANT": "3.10",
      "WORKSPACE_DIR": "${containerWorkspaceFolder}"
    }
  },
  "settings": {
    "terminal.integrated.profiles.linux": {
      "zsh": {
        "path": "/bin/zsh"
      }
    },
    "terminal.integrated.defaultProfile.linux": "zsh",
    "http.proxyStrictSSL": false
  },
  "customizations": {
    "vscode": {
      // Set *default* container specific settings.json values on container create.
      "settings": {
        "python.poetryPath": "/home/vscode/.local/bin/poetry",
        //"python.defaultInterpreterPath": "${containerWorkspaceFolder}/.venv/bin/python",
        "python.analysis.extraPaths": [
          "${containerWorkspaceFolder}"
        ]
      }
    }
  },
  "extensions": [
    "ms-python.python",
    "eamodio.gitlens",
    "njpwerner.autodocstring",
    "ExecutableBookProject.myst-highlight",
    "DavidAnson.vscode-markdownlint",
    "tamasfe.even-better-toml",
    "ryanluker.vscode-coverage-gutters",
    "SanaAjani.taskrunnercode"
  ],
  // As a post create command we install the poetry dependencies and also install the pre-commit hooks.
  // It's necessary to do this here because in Dockerfile we do not have the config files (pyproject.toml +
  // .pre-commit-config.yaml) available.
  // "postCreateCommand": "pre-commit install --install-hooks && pre-commit autoupdate",
  "onCreateCommand": "poetry completions bash >> ~/.bash_completion && poetry install --with docs && pre-commit install --install-hooks && pre-commit autoupdate",
  "remoteUser": "vscode"
}
